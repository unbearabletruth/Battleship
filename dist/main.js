(()=>{"use strict";class o{constructor(o){this.length=o,this.timesHit=0,this.sunk=!1}hit(){this.timesHit+=1,this.isSunk()}isSunk(){this.length===this.timesHit&&(this.sunk=!0)}}class t{constructor(o){this.size=o,this.board=[],this.fleet=[]}createBoard(){for(let o=0;o<this.size;o++){let t=[];this.board.push(t);for(let t=0;t<this.size;t++)this.board[o][t]=""}return this.board}makeCoordinates(o){let t=!1;for(;!t;){const r=["up","right"],e=Math.floor(Math.random()*this.size),a=Math.floor(Math.random()*this.size),s=r[Math.floor(Math.random()*r.length)];if(t=this.tryPlace(e,a,o,s),t)return this.placeShip(e,a,o,s),[e,a,o,s]}}tryPlace(o,t,r,e){let a=!1;if("up"===e){for(let e=0;e<r;e++)if(o-e<0||"object"==typeof this.board[o-e][t])return a;return a=!0,a}if("right"===e){for(let e=0;e<r;e++)if(t+e>=this.size||"object"==typeof this.board[o][t+e])return a;return a=!0,a}}placeShip(t,r,e,a){let s=new o(e);if("up"===a)for(let o=t;o>t-e;o--)this.board[o][r]=s;else if("right"===a)for(let o=r;o<r+e;o++)this.board[t][o]=s;return this.fleet.push(s),s}receiveAttack(o,t){return"object"==typeof this.board[o][t]?this.board[o][t].hit():this.board[o][t]="hit"}allSunk(){for(let o of this.fleet)if(!1===o.sunk)return!1;return!0}}class r{constructor(o){this.board=o}}const e=new r(new t(10));e.board.createBoard(),e.board.makeCoordinates(4),e.board.makeCoordinates(3),e.board.makeCoordinates(3),e.board.makeCoordinates(2),e.board.makeCoordinates(2),e.board.makeCoordinates(2),e.board.makeCoordinates(1),e.board.makeCoordinates(1),e.board.makeCoordinates(1),e.board.makeCoordinates(1),console.log(e.board.board);const a=new r(new t(10));a.board.createBoard(),a.board.makeCoordinates(4),a.board.makeCoordinates(3),a.board.makeCoordinates(3),a.board.makeCoordinates(2),a.board.makeCoordinates(2),a.board.makeCoordinates(2),a.board.makeCoordinates(1),a.board.makeCoordinates(1),a.board.makeCoordinates(1),a.board.makeCoordinates(1),console.log(a.board.board)})();