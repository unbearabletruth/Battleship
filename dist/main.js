(()=>{"use strict";class t{constructor(t){this.length=t,this.timesHit=0,this.sunk=!1}hit(){this.timesHit+=1,this.isSunk()}isSunk(){this.length===this.timesHit&&(this.sunk=!0)}}class o{constructor(t){this.size=t,this.board=[],this.fleet=[]}createBoard(){for(let t=0;t<this.size;t++){let o=[];this.board.push(o);for(let o=0;o<this.size;o++)this.board[t][o]=""}return this.board}makeCoordinates(t){let o=!1;for(;!o;){const r=["up","right"],s=Math.floor(Math.random()*this.size),e=Math.floor(Math.random()*this.size),i=r[Math.floor(Math.random()*r.length)];if(o=this.tryPlace(s,e,t,i),o)return this.placeShip(s,e,t,i),[s,e,t,i]}}tryPlace(t,o,r,s){let e=!1;if("up"===s){for(let s=0;s<r;s++)if(t-s<0||"object"==typeof this.board[t-s][o])return e;return e=!0,e}if("right"===s){for(let s=0;s<r;s++)if(o+s>=this.size||"object"==typeof this.board[t][o+s])return e;return e=!0,e}}placeShip(o,r,s,e){let i=new t(s);if("up"===e)for(let t=o;t>o-s;t--)this.board[t][r]=i;else if("right"===e)for(let t=r;t<r+s;t++)this.board[o][t]=i;return this.fleet.push(i),i}receiveAttack(t,o){return"object"==typeof this.board[t][o]?(this.board[t][o].hit(),this.board[t][o]):this.board[t][o]="hit"}allSunk(){for(let t of this.fleet)if(!1===t.sunk)return!1;return!0}}class r{constructor(t,o){this.name=t,this.board=o,this.shots=[]}boardInit(){return this.board.createBoard(),this.board.makeCoordinates(4),this.board.makeCoordinates(3),this.board.makeCoordinates(3),this.board.makeCoordinates(2),this.board.makeCoordinates(2),this.board.makeCoordinates(2),this.board.makeCoordinates(1),this.board.makeCoordinates(1),this.board.makeCoordinates(1),this.board.makeCoordinates(1),this.board.fleet}makeShot(t=void 0,o=void 0){let r,s;if("Computer"!==this.name)return r=t,s=o,[r,s];let e=!1;for(;!e;)if("Computer"===this.name&&(r=Math.floor(Math.random()*this.board.size),s=Math.floor(Math.random()*this.board.size),!this.shots.includes([r,s])))return this.shots.push([r,s]),e=!0,[r,s]}}const s=new r("Tony",new o(10));s.boardInit();const e=new r("Computer",new o(10));e.boardInit(),console.log(s.board.board),console.log(e.board.board)})();